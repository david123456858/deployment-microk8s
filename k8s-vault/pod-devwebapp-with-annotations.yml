apiVersion: v1
kind: Pod
metadata:
  name: devwebapp-with-annotations
  labels:
    app: devwebapp-with-annotations
  annotations:
    vault.hashicorp.com/agent-inject: "true"
    vault.hashicorp.com/tls-skip-verify: "true"
    vault.hashicorp.com/role: "devweb-app"
    vault.hashicorp.com/vault-address: "http://external-vault.default.svc.cluster.local:8200"
    vault.hashicorp.com/agent-inject-secret-credentials.txt: "secret/data/devwebapp/config"
spec:
  serviceAccountName: myapp-sa
  containers:
    - name: app
      image: burtlo/devwebapp-ruby:k8s
